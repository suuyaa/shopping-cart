{"ast":null,"code":"import { ADD_QUANTITY, ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY } from \"./action-types/cart-actions\";\nimport admin from \"firebase-admin\";\nexport const addToCart = addedItems => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('cart').add({\n      addedItems,\n      customerFirstName: 'Raj',\n      customerLastName: 'Koothrappali',\n      customerId: 12345,\n      shoppedAt: new Date()\n    }).then(() => {\n      dispatch({\n        type: ADD_TO_CART,\n        addedItems\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"ADD_TO_CART_ERROR\",\n        err\n      });\n    });\n  };\n};\nexport const removeItem = removedItem => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('cart').delete({\n      removedItem,\n      customerFirstName: 'Raj',\n      customerLastName: 'Koothrappali',\n      customerId: 12345,\n      shoppedAt: new Date()\n    }).then(() => {\n      dispatch({\n        type: REMOVE_ITEM,\n        removedItem\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"REMOVE_ITEM_ERROR\",\n        err\n      });\n    });\n  };\n};\nexport const addQuantity = addQuantityItem => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('cart').doc(\"Raj\").update({\n      quantity: admin.firestore.FieldValue.increment(1),\n      shoppedAt: new Date()\n    }).then(() => {\n      dispatch({\n        type: ADD_QUANTITY,\n        addQuantityItem\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"ADD_QUANTITY_ERROR\",\n        err\n      });\n    });\n  };\n};\nexport const subtractQuantity = subtractQuantityItem => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('cart').delete({\n      customerFirstName: 'Raj',\n      customerLastName: 'Koothrappali',\n      customerId: 12345,\n      shoppedAt: new Date()\n    }).then(() => {\n      dispatch({\n        type: SUB_QUANTITY,\n        subtractQuantityItem\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"SUB_QUANTITY_ERROR\",\n        err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/suya/Desktop/front end study/webProjects/shopping-cart/src/components/actions/cartActions.js"],"names":["ADD_QUANTITY","ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","admin","addToCart","addedItems","dispatch","getState","getFirebase","getFirestore","firestore","collection","add","customerFirstName","customerLastName","customerId","shoppedAt","Date","then","type","catch","err","removeItem","removedItem","delete","addQuantity","addQuantityItem","doc","update","quantity","FieldValue","increment","subtractQuantity","subtractQuantityItem"],"mappings":"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","sourcesContent":["import {ADD_QUANTITY, ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY} from \"./action-types/cart-actions\";\nimport admin from \"firebase-admin\";\n\nexport const addToCart = (addedItems) => {\n    return(dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n        firestore.collection('cart').add({\n            addedItems,\n            customerFirstName: 'Raj',\n            customerLastName: 'Koothrappali',\n            customerId: 12345,\n            shoppedAt: new Date()\n        }).then(() => {\n            dispatch({type: ADD_TO_CART, addedItems});\n        }).catch(err => {\n            dispatch({type: \"ADD_TO_CART_ERROR\", err});\n        })\n    }\n};\n\nexport const removeItem = (removedItem) => {\n    return(dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n        firestore.collection('cart').delete({\n            removedItem,\n            customerFirstName: 'Raj',\n            customerLastName: 'Koothrappali',\n            customerId: 12345,\n            shoppedAt: new Date()\n        }).then(() => {\n            dispatch({type: REMOVE_ITEM, removedItem});\n        }).catch(err => {\n            dispatch({type: \"REMOVE_ITEM_ERROR\", err});\n        })\n    }\n};\n\nexport const addQuantity = (addQuantityItem) => {\n    return(dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n        firestore.collection('cart').doc(\"Raj\").update({\n            quantity: admin.firestore.FieldValue.increment(1),\n            shoppedAt: new Date()\n        }).then(() => {\n            dispatch({type: ADD_QUANTITY, addQuantityItem});\n        }).catch(err => {\n            dispatch({type: \"ADD_QUANTITY_ERROR\", err});\n        })\n    }\n\n};\nexport const subtractQuantity = (subtractQuantityItem) => {\n    return(dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n        firestore.collection('cart').delete({\n\n            customerFirstName: 'Raj',\n            customerLastName: 'Koothrappali',\n            customerId: 12345,\n            shoppedAt: new Date()\n        }).then(() => {\n            dispatch({type: SUB_QUANTITY, subtractQuantityItem});\n        }).catch(err => {\n            dispatch({type: \"SUB_QUANTITY_ERROR\", err});\n        })\n    }\n};\n"]},"metadata":{},"sourceType":"module"}