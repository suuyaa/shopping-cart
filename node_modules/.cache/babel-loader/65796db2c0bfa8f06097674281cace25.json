{"ast":null,"code":"import { ADD_QUANTITY, ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY } from \"./action-types/cart-actions\";\nexport const addToCart = addedItems => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore(); // console.log(\"cartActions: add to cart\");\n    // console.log(addedItems);\n\n    firestore.collection('carts').add({\n      addedItems,\n      customerFirstName: 'Raj',\n      customerLastName: 'Koothrappali',\n      customerId: 12345,\n      shoppedAt: new Date()\n    }).then(() => {\n      dispatch({\n        type: ADD_TO_CART,\n        addedItems\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"ADD_TO_CART_ERROR\",\n        err\n      });\n    });\n  };\n};\nexport const removeItem = id => {\n  // console.log(\"removedItem\");\n  // console.log(removedItem);\n  // const id = removedItem.id.toString();\n  // const cartsId = document.id;\n  console.log(\"dispatch\", id);\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('carts').doc(id).delete().then(() => {\n      console.log(\"deleted\");\n      dispatch({\n        type: REMOVE_ITEM,\n        id\n      });\n    }).catch(err => {\n      console.log('delete failed');\n      dispatch({\n        type: \"REMOVE_ITEM_ERROR\",\n        err\n      });\n    });\n  };\n}; // export const addQuantity = (addQuantityItem, auth) => {\n//     console.log(\"addQuantityItem:\", addQuantityItem);\n//     return(dispatch, getState, {getFirebase, getFirestore}) => {\n//         const firestore = getFirestore();\n//         const cart = getState().firestore.data.cart;\n//         const item =\n//         firestore.collection('carts').doc(addQuantityItem.id).update({\n//             quantity: ++getState.quantity\n//         }).then(() => {\n//             dispatch({type: ADD_QUANTITY, addQuantityItem});\n//         }).catch(err => {\n//             dispatch({type: \"ADD_QUANTITY_ERROR\", err});\n//         })\n//     }\n//\n// };\n// export const subtractQuantity = (subtractQuantityItem) => {\n//     return(dispatch, getState, {getFirebase, getFirestore}) => {\n//         const firestore = getFirestore();\n//         firestore.collection('carts').delete({\n//\n//             customerFirstName: 'Raj',\n//             customerLastName: 'Koothrappali',\n//             customerId: 12345,\n//             shoppedAt: new Date()\n//         }).then(() => {\n//             dispatch({type: SUB_QUANTITY, subtractQuantityItem});\n//         }).catch(err => {\n//             dispatch({type: \"SUB_QUANTITY_ERROR\", err});\n//         })\n//     }\n// };","map":{"version":3,"sources":["/Users/suya/Desktop/front end study/webProjects/shopping-cart/src/components/actions/cartActions.js"],"names":["ADD_QUANTITY","ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","addToCart","addedItems","dispatch","getState","getFirebase","getFirestore","firestore","collection","add","customerFirstName","customerLastName","customerId","shoppedAt","Date","then","type","catch","err","removeItem","id","console","log","doc","delete"],"mappings":"AAAA,SAAQA,YAAR,EAAsBC,WAAtB,EAAmCC,WAAnC,EAAgDC,YAAhD,QAAmE,6BAAnE;AAEA,OAAO,MAAMC,SAAS,GAAIC,UAAD,IAAgB;AACrC,SAAM,CAACC,QAAD,EAAWC,QAAX,EAAqB;AAACC,IAAAA,WAAD;AAAcC,IAAAA;AAAd,GAArB,KAAqD;AACvD,UAAMC,SAAS,GAAGD,YAAY,EAA9B,CADuD,CAEvD;AACA;;AACAC,IAAAA,SAAS,CAACC,UAAV,CAAqB,OAArB,EAA8BC,GAA9B,CAAkC;AAC9BP,MAAAA,UAD8B;AAE9BQ,MAAAA,iBAAiB,EAAE,KAFW;AAG9BC,MAAAA,gBAAgB,EAAE,cAHY;AAI9BC,MAAAA,UAAU,EAAE,KAJkB;AAK9BC,MAAAA,SAAS,EAAE,IAAIC,IAAJ;AALmB,KAAlC,EAMGC,IANH,CAMQ,MAAM;AACVZ,MAAAA,QAAQ,CAAC;AAACa,QAAAA,IAAI,EAAElB,WAAP;AAAoBI,QAAAA;AAApB,OAAD,CAAR;AACH,KARD,EAQGe,KARH,CAQSC,GAAG,IAAI;AACZf,MAAAA,QAAQ,CAAC;AAACa,QAAAA,IAAI,EAAE,mBAAP;AAA4BE,QAAAA;AAA5B,OAAD,CAAR;AACH,KAVD;AAWH,GAfD;AAgBH,CAjBM;AAmBP,OAAO,MAAMC,UAAU,GAAIC,EAAD,IAAQ;AAC9B;AACA;AACA;AACA;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,EAAxB;AACA,SAAM,CAACjB,QAAD,EAAWC,QAAX,EAAqB;AAACC,IAAAA,WAAD;AAAcC,IAAAA;AAAd,GAArB,KAAqD;AACvD,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACAC,IAAAA,SAAS,CAACC,UAAV,CAAqB,OAArB,EAA8Be,GAA9B,CAAkCH,EAAlC,EAAsCI,MAAtC,GAA+CT,IAA/C,CAAoD,MAAM;AACtDM,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAnB,MAAAA,QAAQ,CAAC;AAACa,QAAAA,IAAI,EAAEjB,WAAP;AAAoBqB,QAAAA;AAApB,OAAD,CAAR;AACH,KAHD,EAGGH,KAHH,CAGSC,GAAG,IAAI;AACZG,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAnB,MAAAA,QAAQ,CAAC;AAACa,QAAAA,IAAI,EAAE,mBAAP;AAA4BE,QAAAA;AAA5B,OAAD,CAAR;AACH,KAND;AAOH,GATD;AAUH,CAhBM,C,CAkBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import {ADD_QUANTITY, ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY} from \"./action-types/cart-actions\";\n\nexport const addToCart = (addedItems) => {\n    return(dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n        // console.log(\"cartActions: add to cart\");\n        // console.log(addedItems);\n        firestore.collection('carts').add({\n            addedItems,\n            customerFirstName: 'Raj',\n            customerLastName: 'Koothrappali',\n            customerId: 12345,\n            shoppedAt: new Date()\n        }).then(() => {\n            dispatch({type: ADD_TO_CART, addedItems});\n        }).catch(err => {\n            dispatch({type: \"ADD_TO_CART_ERROR\", err});\n        })\n    }\n};\n\nexport const removeItem = (id) => {\n    // console.log(\"removedItem\");\n    // console.log(removedItem);\n    // const id = removedItem.id.toString();\n    // const cartsId = document.id;\n    console.log(\"dispatch\", id);\n    return(dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n        firestore.collection('carts').doc(id).delete().then(() => {\n            console.log(\"deleted\");\n            dispatch({type: REMOVE_ITEM, id});\n        }).catch(err => {\n            console.log('delete failed');\n            dispatch({type: \"REMOVE_ITEM_ERROR\", err});\n        })\n    }\n};\n\n// export const addQuantity = (addQuantityItem, auth) => {\n//     console.log(\"addQuantityItem:\", addQuantityItem);\n//     return(dispatch, getState, {getFirebase, getFirestore}) => {\n//         const firestore = getFirestore();\n//         const cart = getState().firestore.data.cart;\n//         const item =\n//         firestore.collection('carts').doc(addQuantityItem.id).update({\n//             quantity: ++getState.quantity\n//         }).then(() => {\n//             dispatch({type: ADD_QUANTITY, addQuantityItem});\n//         }).catch(err => {\n//             dispatch({type: \"ADD_QUANTITY_ERROR\", err});\n//         })\n//     }\n//\n// };\n// export const subtractQuantity = (subtractQuantityItem) => {\n//     return(dispatch, getState, {getFirebase, getFirestore}) => {\n//         const firestore = getFirestore();\n//         firestore.collection('carts').delete({\n//\n//             customerFirstName: 'Raj',\n//             customerLastName: 'Koothrappali',\n//             customerId: 12345,\n//             shoppedAt: new Date()\n//         }).then(() => {\n//             dispatch({type: SUB_QUANTITY, subtractQuantityItem});\n//         }).catch(err => {\n//             dispatch({type: \"SUB_QUANTITY_ERROR\", err});\n//         })\n//     }\n// };\n"]},"metadata":{},"sourceType":"module"}