{"ast":null,"code":"import Item1 from \"../../images/item1.jpg\";\nimport Item2 from \"../../images/item2.jpg\";\nimport Item3 from \"../../images/item3.jpg\";\nimport Item4 from \"../../images/item4.jpg\";\nimport Item5 from \"../../images/item5.jpg\";\nimport Item6 from \"../../images/item6.jpg\";\nimport { ADD_TO_CART, REMOVE_ITEM, ADD_QUANTITY, SUB_QUANTITY, ADD_SHIPPING, SUB_SHIPPING } from \"../actions/action-types/cart-actions\";\nconst initState = {\n  items: [{\n    id: 1,\n    title: \"Winter body\",\n    description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 300,\n    img: Item1,\n    quantity: 0\n  }, {\n    id: 2,\n    title: \"Adidas\",\n    description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 300,\n    img: Item2,\n    quantity: 0\n  }, {\n    id: 3,\n    title: \"Vans\",\n    description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 280,\n    img: Item3,\n    quantity: 0\n  }, {\n    id: 4,\n    title: \"White\",\n    description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 280,\n    img: Item4,\n    quantity: 0\n  }, {\n    id: 5,\n    title: \"Boots\",\n    description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 280,\n    img: Item5,\n    quantity: 0\n  }, {\n    id: 6,\n    title: \"Black\",\n    description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n    price: 280,\n    img: Item6,\n    quantity: 0\n  }],\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  if (action.type === ADD_TO_CART) {\n    let addedItem = state.items.find(item => item.id === action.addedItems.id);\n    let existedItem = state.addedItems.find(item => action.addedItems.id === item.id);\n    console.log(\"addedItem\", addedItem); // console.log(state.addedItems);\n\n    if (existedItem) {\n      addedItem.quantity += 1; // console.log(\"11111\");\n\n      return { ...state,\n        total: state.total + addedItem.price\n      };\n    } else {\n      addedItem.quantity = 1; // console.log(\"22222\");\n\n      return { ...state,\n        addedItems: [...state.addedItems, addedItem],\n        total: state.total + addedItem.price\n      };\n    }\n  }\n\n  if (action.type === REMOVE_ITEM) {\n    let itemToRemove = state.items.find(item => item.id === action.id);\n    let newItems = state.addedItems.filter(item => action.id !== item.id);\n    let newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n\n    if (itemToRemove) {\n      return { ...state,\n        addedItems: newItems,\n        total: newTotal\n      };\n    }\n  }\n\n  if (action.type === ADD_QUANTITY) {\n    let itemToAdd = state.items.find(item => item.id === action.id);\n    console.log(\"cartReducer: add quantity\");\n    console.log(itemToAdd);\n\n    if (itemToAdd) {\n      return { ...state,\n        quantity: ++itemToAdd.quantity,\n        total: state.total + itemToAdd.price\n      };\n    }\n  }\n\n  if (action.type === SUB_QUANTITY) {\n    let itemToSub = state.items.find(item => item.id === action.id);\n\n    if (itemToSub.quantity === 1) {\n      let newItems = state.items.filter(item => item.id === action.id);\n      let newTotal = state.total - itemToSub.price;\n      return { ...state,\n        addedItems: newItems,\n        total: newTotal\n      };\n    } else {\n      return { ...state,\n        quantity: --itemToSub.quantity,\n        total: state.total - itemToSub.price\n      };\n    }\n  }\n\n  if (action.type === ADD_SHIPPING) {\n    return { ...state,\n      total: state.total + 6\n    };\n  }\n\n  if (action.type === SUB_SHIPPING) {\n    return { ...state,\n      total: state.total - 6\n    };\n  } else {\n    return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/suya/Desktop/front end study/webProjects/shopping-cart/src/components/reducers/cartReducer.js"],"names":["Item1","Item2","Item3","Item4","Item5","Item6","ADD_TO_CART","REMOVE_ITEM","ADD_QUANTITY","SUB_QUANTITY","ADD_SHIPPING","SUB_SHIPPING","initState","items","id","title","description","price","img","quantity","addedItems","total","cartReducer","state","action","type","addedItem","find","item","existedItem","console","log","itemToRemove","newItems","filter","newTotal","itemToAdd","itemToSub"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,wBAAlB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,SACIC,WADJ,EAEIC,WAFJ,EAGIC,YAHJ,EAIIC,YAJJ,EAKIC,YALJ,EAMIC,YANJ,QAOO,sCAPP;AASA,MAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAE,CACH;AACIC,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,KAAK,EAAE,aAFX;AAGIC,IAAAA,WAAW,EAAE,sEAHjB;AAIIC,IAAAA,KAAK,EAAE,GAJX;AAKIC,IAAAA,GAAG,EAAElB,KALT;AAMImB,IAAAA,QAAQ,EAAE;AANd,GADG,EASH;AACIL,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,KAAK,EAAE,QAFX;AAGIC,IAAAA,WAAW,EAAE,sEAHjB;AAIIC,IAAAA,KAAK,EAAE,GAJX;AAKIC,IAAAA,GAAG,EAAEjB,KALT;AAMIkB,IAAAA,QAAQ,EAAE;AANd,GATG,EAiBH;AACIL,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,KAAK,EAAE,MAFX;AAGIC,IAAAA,WAAW,EAAE,sEAHjB;AAIIC,IAAAA,KAAK,EAAE,GAJX;AAKIC,IAAAA,GAAG,EAAEhB,KALT;AAMIiB,IAAAA,QAAQ,EAAE;AANd,GAjBG,EAyBH;AACIL,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,KAAK,EAAE,OAFX;AAGIC,IAAAA,WAAW,EAAE,sEAHjB;AAIIC,IAAAA,KAAK,EAAE,GAJX;AAKIC,IAAAA,GAAG,EAAEf,KALT;AAMIgB,IAAAA,QAAQ,EAAE;AANd,GAzBG,EAiCH;AACIL,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,KAAK,EAAE,OAFX;AAGIC,IAAAA,WAAW,EAAE,sEAHjB;AAIIC,IAAAA,KAAK,EAAE,GAJX;AAKIC,IAAAA,GAAG,EAAEd,KALT;AAMIe,IAAAA,QAAQ,EAAE;AANd,GAjCG,EAyCH;AACIL,IAAAA,EAAE,EAAE,CADR;AAEIC,IAAAA,KAAK,EAAE,OAFX;AAGIC,IAAAA,WAAW,EAAE,sEAHjB;AAIIC,IAAAA,KAAK,EAAE,GAJX;AAKIC,IAAAA,GAAG,EAAEb,KALT;AAMIc,IAAAA,QAAQ,EAAE;AANd,GAzCG,CADO;AAmDdC,EAAAA,UAAU,EAAE,EAnDE;AAoDdC,EAAAA,KAAK,EAAE;AApDO,CAAlB;;AAuDA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGX,SAAT,EAAoBY,MAApB,KAA+B;AAC/C,MAAIA,MAAM,CAACC,IAAP,KAAgBnB,WAApB,EAAiC;AAC7B,QAAIoB,SAAS,GAAGH,KAAK,CAACV,KAAN,CAAYc,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACd,EAAL,KAAYU,MAAM,CAACJ,UAAP,CAAkBN,EAAvD,CAAhB;AACA,QAAIe,WAAW,GAAGN,KAAK,CAACH,UAAN,CAAiBO,IAAjB,CAAsBC,IAAI,IAAIJ,MAAM,CAACJ,UAAP,CAAkBN,EAAlB,KAAyBc,IAAI,CAACd,EAA5D,CAAlB;AACAgB,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBL,SAAzB,EAH6B,CAI7B;;AACA,QAAIG,WAAJ,EAAiB;AACbH,MAAAA,SAAS,CAACP,QAAV,IAAsB,CAAtB,CADa,CAEb;;AACA,aAAO,EACH,GAAGI,KADA;AAEHF,QAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAcK,SAAS,CAACT;AAF5B,OAAP;AAIH,KAPD,MAOO;AACHS,MAAAA,SAAS,CAACP,QAAV,GAAqB,CAArB,CADG,CAEH;;AACA,aAAO,EACH,GAAGI,KADA;AAEHH,QAAAA,UAAU,EAAE,CAAC,GAAGG,KAAK,CAACH,UAAV,EAAsBM,SAAtB,CAFT;AAGHL,QAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAcK,SAAS,CAACT;AAH5B,OAAP;AAKH;AACJ;;AACD,MAAIO,MAAM,CAACC,IAAP,KAAgBlB,WAApB,EAAiC;AAC7B,QAAIyB,YAAY,GAAGT,KAAK,CAACV,KAAN,CAAYc,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACd,EAAL,KAAYU,MAAM,CAACV,EAA5C,CAAnB;AACA,QAAImB,QAAQ,GAAGV,KAAK,CAACH,UAAN,CAAiBc,MAAjB,CAAwBN,IAAI,IAAIJ,MAAM,CAACV,EAAP,KAAcc,IAAI,CAACd,EAAnD,CAAf;AACA,QAAIqB,QAAQ,GAAGZ,KAAK,CAACF,KAAN,GAAeW,YAAY,CAACf,KAAd,GAAuBe,YAAY,CAACb,QAAjE;;AACA,QAAIa,YAAJ,EAAkB;AACd,aAAO,EACH,GAAGT,KADA;AAEHH,QAAAA,UAAU,EAAEa,QAFT;AAGHZ,QAAAA,KAAK,EAAEc;AAHJ,OAAP;AAKH;AACJ;;AAED,MAAIX,MAAM,CAACC,IAAP,KAAgBjB,YAApB,EAAkC;AAC9B,QAAI4B,SAAS,GAAGb,KAAK,CAACV,KAAN,CAAYc,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACd,EAAL,KAAYU,MAAM,CAACV,EAA5C,CAAhB;AACAgB,IAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYK,SAAZ;;AACA,QAAIA,SAAJ,EAAe;AACX,aAAO,EACH,GAAGb,KADA;AAEHJ,QAAAA,QAAQ,EAAE,EAAEiB,SAAS,CAACjB,QAFnB;AAGHE,QAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAce,SAAS,CAACnB;AAH5B,OAAP;AAKH;AACJ;;AAED,MAAIO,MAAM,CAACC,IAAP,KAAgBhB,YAApB,EAAkC;AAC9B,QAAI4B,SAAS,GAAGd,KAAK,CAACV,KAAN,CAAYc,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACd,EAAL,KAAYU,MAAM,CAACV,EAA5C,CAAhB;;AACA,QAAIuB,SAAS,CAAClB,QAAV,KAAuB,CAA3B,EAA8B;AAC1B,UAAIc,QAAQ,GAAGV,KAAK,CAACV,KAAN,CAAYqB,MAAZ,CAAoBN,IAAI,IAAIA,IAAI,CAACd,EAAL,KAAYU,MAAM,CAACV,EAA/C,CAAf;AACA,UAAIqB,QAAQ,GAAGZ,KAAK,CAACF,KAAN,GAAcgB,SAAS,CAACpB,KAAvC;AACA,aAAO,EACH,GAAGM,KADA;AAEHH,QAAAA,UAAU,EAAEa,QAFT;AAGHZ,QAAAA,KAAK,EAAEc;AAHJ,OAAP;AAMH,KATD,MASO;AACH,aAAO,EACH,GAAGZ,KADA;AAEHJ,QAAAA,QAAQ,EAAE,EAAEkB,SAAS,CAAClB,QAFnB;AAGHE,QAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAcgB,SAAS,CAACpB;AAH5B,OAAP;AAKH;AACJ;;AACD,MAAIO,MAAM,CAACC,IAAP,KAAgBf,YAApB,EAAkC;AAC9B,WAAO,EACH,GAAGa,KADA;AAEHF,MAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAc;AAFlB,KAAP;AAIH;;AAED,MAAIG,MAAM,CAACC,IAAP,KAAgBd,YAApB,EAAkC;AAC9B,WAAO,EACH,GAAGY,KADA;AAEHF,MAAAA,KAAK,EAAEE,KAAK,CAACF,KAAN,GAAc;AAFlB,KAAP;AAIH,GALD,MAKO;AACH,WAAOE,KAAP;AACH;AACJ,CAnFD;;AAqFA,eAAeD,WAAf","sourcesContent":["import Item1 from \"../../images/item1.jpg\"\nimport Item2 from \"../../images/item2.jpg\";\nimport Item3 from \"../../images/item3.jpg\";\nimport Item4 from \"../../images/item4.jpg\";\nimport Item5 from \"../../images/item5.jpg\";\nimport Item6 from \"../../images/item6.jpg\";\nimport {\n    ADD_TO_CART,\n    REMOVE_ITEM,\n    ADD_QUANTITY,\n    SUB_QUANTITY,\n    ADD_SHIPPING,\n    SUB_SHIPPING\n} from \"../actions/action-types/cart-actions\";\n\nconst initState = {\n    items: [\n        {\n            id: 1,\n            title: \"Winter body\",\n            description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n            price: 300,\n            img: Item1,\n            quantity: 0\n        },\n        {\n            id: 2,\n            title: \"Adidas\",\n            description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n            price: 300,\n            img: Item2,\n            quantity: 0\n        },\n        {\n            id: 3,\n            title: \"Vans\",\n            description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n            price: 280,\n            img: Item3,\n            quantity: 0\n        },\n        {\n            id: 4,\n            title: \"White\",\n            description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n            price: 280,\n            img: Item4,\n            quantity: 0\n        },\n        {\n            id: 5,\n            title: \"Boots\",\n            description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n            price: 280,\n            img: Item5,\n            quantity: 0\n        },\n        {\n            id: 6,\n            title: \"Black\",\n            description: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Minima, ex.\",\n            price: 280,\n            img: Item6,\n            quantity: 0\n        }\n    ],\n    addedItems: [],\n    total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n    if (action.type === ADD_TO_CART) {\n        let addedItem = state.items.find(item => item.id === action.addedItems.id);\n        let existedItem = state.addedItems.find(item => action.addedItems.id === item.id);\n        console.log(\"addedItem\", addedItem);\n        // console.log(state.addedItems);\n        if (existedItem) {\n            addedItem.quantity += 1;\n            // console.log(\"11111\");\n            return {\n                ...state,\n                total: state.total + addedItem.price\n            }\n        } else {\n            addedItem.quantity = 1;\n            // console.log(\"22222\");\n            return {\n                ...state,\n                addedItems: [...state.addedItems, addedItem],\n                total: state.total + addedItem.price\n            }\n        }\n    }\n    if (action.type === REMOVE_ITEM) {\n        let itemToRemove = state.items.find(item => item.id === action.id);\n        let newItems = state.addedItems.filter(item => action.id !== item.id);\n        let newTotal = state.total - (itemToRemove.price) * itemToRemove.quantity;\n        if (itemToRemove) {\n            return {\n                ...state,\n                addedItems: newItems,\n                total: newTotal\n            }\n        }\n    }\n\n    if (action.type === ADD_QUANTITY) {\n        let itemToAdd = state.items.find(item => item.id === action.id);\n        console.log(\"cartReducer: add quantity\")\n        console.log(itemToAdd);\n        if (itemToAdd) {\n            return {\n                ...state,\n                quantity: ++itemToAdd.quantity,\n                total: state.total + itemToAdd.price\n            }\n        }\n    }\n\n    if (action.type === SUB_QUANTITY) {\n        let itemToSub = state.items.find(item => item.id === action.id);\n        if (itemToSub.quantity === 1) {\n            let newItems = state.items.filter((item => item.id === action.id));\n            let newTotal = state.total - itemToSub.price;\n            return {\n                ...state,\n                addedItems: newItems,\n                total: newTotal\n            }\n\n        } else {\n            return {\n                ...state,\n                quantity: --itemToSub.quantity,\n                total: state.total - itemToSub.price\n            }\n        }\n    }\n    if (action.type === ADD_SHIPPING) {\n        return {\n            ...state,\n            total: state.total + 6\n        }\n    }\n\n    if (action.type === SUB_SHIPPING) {\n        return {\n            ...state,\n            total: state.total - 6\n        }\n    } else {\n        return state;\n    }\n};\n\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}