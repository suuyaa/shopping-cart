{"ast":null,"code":"import { ADD_QUANTITY, ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY } from \"./action-types/cart-actions\";\nexport const addToCart = addedItems => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    const profile = getState().firebase.profile;\n    const userId = getState().firebase.auth.uid;\n    let state = getState();\n    console.log(\"cartActions: add to cart\");\n    console.log(state);\n    let itemToAdd = state.cart.addedItems.find(item => item.id === addedItems.id);\n    console.log(itemToAdd);\n    console.log(\"*******\");\n    console.log(\"state.cart.addedItems\");\n    console.log(\"********\");\n    console.log(state.cart.addedItems);\n    console.log(\"********\");\n    console.log(\"*******\");\n    console.log(\"addedItems before database\");\n    console.log(\"********\");\n    console.log(addedItems);\n    console.log(\"********\");\n    console.log(\"*******\");\n    console.log(\"itemToAdd before database\");\n    console.log(\"********\");\n    console.log(itemToAdd);\n    console.log(\"********\");\n\n    if (itemToAdd === undefined) {\n      addedItems.quantity = 1;\n    } else {\n      addedItems.quantity += 1;\n    }\n\n    firestore.collection('carts').add({\n      addedItems,\n      customerFirstName: profile.firstName,\n      customerLastName: profile.lastName,\n      customerId: userId,\n      shoppedAt: new Date()\n    }).then(a => {\n      console.log(\"*******\");\n      console.log(\"addedItems in database\");\n      console.log(\"********\");\n      console.log(a);\n      console.log(\"********\");\n      dispatch({\n        type: ADD_TO_CART,\n        addedItems\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"ADD_TO_CART_ERROR\",\n        err\n      });\n    }); // if (itemToAdd === undefined) {\n    //     addedItems.quantity = 1;\n    //     firestore.collection('carts').add({\n    //         addedItems,\n    //         customerFirstName: profile.firstName,\n    //         customerLastName: profile.lastName,\n    //         customerId: userId,\n    //         shoppedAt: new Date()\n    //     }).then(() => {\n    //         dispatch({type: ADD_TO_CART, addedItems});\n    //     }).catch(err => {\n    //         dispatch({type: \"ADD_TO_CART_ERROR\", err});\n    //     });\n    // } else {\n    //     addedItems.quantity += 1;\n    //     firestore.collection('carts').where('addedItems.id', '==', addedItems.id)\n    //         .get().then((snapshot) => {\n    //         snapshot.forEach((doc) => {\n    //                 console.log(doc.id);\n    //                 firestore.collection('carts').doc(doc.id).update({\n    //                     addedItems: addedItems,\n    //                     customerFirstName: profile.firstName,\n    //                     customerLastName: profile.lastName,\n    //                     customerId: userId,\n    //                     shoppedAt: new Date()\n    //                 }).then(() => {\n    //                     console.log('updated');\n    //                     dispatch({type: ADD_TO_CART, addedItems});\n    //                 }).catch(err => {\n    //                     dispatch({type: \"ADD_TO_CART_ERROR\", err});\n    //                 });\n    //             }\n    //         )\n    //     })\n    //\n    //\n    //     // addedItems.quantity += 1;\n    //     // firestore.collection('carts').add({\n    //     //     addedItems,\n    //     //     customerFirstName: profile.firstName,\n    //     //     customerLastName: profile.lastName,\n    //     //     customerId: userId,\n    //     //     shoppedAt: new Date()\n    //     // }).then(() => {\n    //     //     dispatch({type: ADD_TO_CART, addedItems});\n    //     // }).catch(err => {\n    //     //     dispatch({type: \"ADD_TO_CART_ERROR\", err});\n    //     // });\n    // }\n  };\n};\nexport const removeItem = removedItems => {\n  console.log(\"removedItem\");\n  console.log(removedItems); // const id = removedItem.id.toString();\n  // const cartsId = document.id;\n  // console.log(\"dispatch\", removedItems.addedItems.id);\n\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore(); // const docID = getState().firestore.ordered.carts[0].id;\n    // console.log(docID);\n\n    let itemToRemove = getState().cart.addedItems.find(item => item.id === removedItems.id);\n    console.log('itemToRemove', itemToRemove);\n    firestore.collection('carts').where('addedItems.id', '==', itemToRemove.id).get().then(snapshot => {\n      snapshot.forEach(doc => {\n        console.log(doc.id);\n        firestore.collection('carts').doc(doc.id).delete().then(() => {\n          console.log('delete document successfully');\n          dispatch({\n            type: REMOVE_ITEM,\n            removedItems\n          });\n        });\n      });\n    }).catch(err => {\n      console.log('delete failed');\n      dispatch({\n        type: \"REMOVE_ITEM_ERROR\",\n        err\n      });\n    });\n  };\n};\nexport const addQuantity = addQuantityItem => {\n  console.log(\"addQuantityItem:\", addQuantityItem);\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    let itemToAddQuantity = getState().cart.addedItems.find(item => item.id === addQuantityItem.id);\n    console.log('itemToAddQuantity', itemToAddQuantity);\n    firestore.collection('carts').where(\"addedItems.id\", '==', addQuantityItem.id).get().then(snapshot => {\n      snapshot.forEach(doc => {\n        addQuantityItem.quantity += 1;\n        console.log('add quantity successfully');\n        firestore.collection('carts').doc(doc.id).update({\n          addedItems: getState().cart.addedItems,\n          customerFirstName: getState().firebase.profile.firstName,\n          customerLastName: getState().firebase.profile.lastName,\n          customerId: getState().firebase.auth.uid,\n          shoppedAt: new Date()\n        }).then(() => {\n          console.log('updated');\n          dispatch({\n            type: ADD_QUANTITY,\n            addQuantityItem\n          });\n        }).catch(err => {\n          dispatch({\n            type: \"ADD_QUANTITY_ERROR\",\n            err\n          });\n        });\n      });\n    });\n  };\n};\nexport const subtractQuantity = subtractQuantityItem => {\n  return (dispatch, getState, {\n    getFirebase,\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    firestore.collection('carts').delete({\n      customerFirstName: 'Raj',\n      customerLastName: 'Koothrappali',\n      customerId: 12345,\n      shoppedAt: new Date()\n    }).then(() => {\n      dispatch({\n        type: SUB_QUANTITY,\n        subtractQuantityItem\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"SUB_QUANTITY_ERROR\",\n        err\n      });\n    });\n  };\n};","map":{"version":3,"sources":["/Users/suya/Desktop/front end study/webProjects/shopping-cart/src/components/actions/cartActions.js"],"names":["ADD_QUANTITY","ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","addToCart","addedItems","dispatch","getState","getFirebase","getFirestore","firestore","profile","firebase","userId","auth","uid","state","console","log","itemToAdd","cart","find","item","id","undefined","quantity","collection","add","customerFirstName","firstName","customerLastName","lastName","customerId","shoppedAt","Date","then","a","type","catch","err","removeItem","removedItems","itemToRemove","where","get","snapshot","forEach","doc","delete","addQuantity","addQuantityItem","itemToAddQuantity","update","subtractQuantity","subtractQuantityItem"],"mappings":"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","sourcesContent":["import {ADD_QUANTITY, ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY} from \"./action-types/cart-actions\";\n\nexport const addToCart = (addedItems) => {\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n        const profile = getState().firebase.profile;\n        const userId = getState().firebase.auth.uid;\n        let state = getState();\n        console.log(\"cartActions: add to cart\");\n        console.log(state);\n        let itemToAdd = state.cart.addedItems.find(item => item.id === addedItems.id);\n        console.log(itemToAdd);\n\n        console.log(\"*******\");\n        console.log(\"state.cart.addedItems\");\n        console.log(\"********\");\n        console.log(state.cart.addedItems);\n        console.log(\"********\")\n\n        console.log(\"*******\");\n        console.log(\"addedItems before database\");\n        console.log(\"********\");\n        console.log(addedItems);\n        console.log(\"********\");\n\n        console.log(\"*******\");\n        console.log(\"itemToAdd before database\");\n        console.log(\"********\");\n        console.log(itemToAdd);\n        console.log(\"********\");\n\n\n        if (itemToAdd === undefined) {\n            addedItems.quantity = 1;\n        } else {\n            addedItems.quantity += 1;\n        }\n\n\n        firestore.collection('carts').add({\n            addedItems,\n            customerFirstName: profile.firstName,\n            customerLastName: profile.lastName,\n            customerId: userId,\n            shoppedAt: new Date()\n        }).then((a) => {\n            console.log(\"*******\");\n            console.log(\"addedItems in database\");\n            console.log(\"********\");\n            console.log(a);\n            console.log(\"********\");\n            dispatch({type: ADD_TO_CART, addedItems});\n        }).catch(err => {\n            dispatch({type: \"ADD_TO_CART_ERROR\", err});\n        });\n\n\n        // if (itemToAdd === undefined) {\n        //     addedItems.quantity = 1;\n        //     firestore.collection('carts').add({\n        //         addedItems,\n        //         customerFirstName: profile.firstName,\n        //         customerLastName: profile.lastName,\n        //         customerId: userId,\n        //         shoppedAt: new Date()\n        //     }).then(() => {\n        //         dispatch({type: ADD_TO_CART, addedItems});\n        //     }).catch(err => {\n        //         dispatch({type: \"ADD_TO_CART_ERROR\", err});\n        //     });\n        // } else {\n        //     addedItems.quantity += 1;\n        //     firestore.collection('carts').where('addedItems.id', '==', addedItems.id)\n        //         .get().then((snapshot) => {\n        //         snapshot.forEach((doc) => {\n        //                 console.log(doc.id);\n        //                 firestore.collection('carts').doc(doc.id).update({\n        //                     addedItems: addedItems,\n        //                     customerFirstName: profile.firstName,\n        //                     customerLastName: profile.lastName,\n        //                     customerId: userId,\n        //                     shoppedAt: new Date()\n        //                 }).then(() => {\n        //                     console.log('updated');\n        //                     dispatch({type: ADD_TO_CART, addedItems});\n        //                 }).catch(err => {\n        //                     dispatch({type: \"ADD_TO_CART_ERROR\", err});\n        //                 });\n        //             }\n        //         )\n        //     })\n        //\n        //\n        //     // addedItems.quantity += 1;\n        //     // firestore.collection('carts').add({\n        //     //     addedItems,\n        //     //     customerFirstName: profile.firstName,\n        //     //     customerLastName: profile.lastName,\n        //     //     customerId: userId,\n        //     //     shoppedAt: new Date()\n        //     // }).then(() => {\n        //     //     dispatch({type: ADD_TO_CART, addedItems});\n        //     // }).catch(err => {\n        //     //     dispatch({type: \"ADD_TO_CART_ERROR\", err});\n        //     // });\n        // }\n    }\n\n\n};\n\nexport const removeItem = (removedItems) => {\n    console.log(\"removedItem\");\n    console.log(removedItems);\n    // const id = removedItem.id.toString();\n    // const cartsId = document.id;\n    // console.log(\"dispatch\", removedItems.addedItems.id);\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n        // const docID = getState().firestore.ordered.carts[0].id;\n        // console.log(docID);\n        let itemToRemove = getState().cart.addedItems.find(item => item.id === removedItems.id);\n        console.log('itemToRemove', itemToRemove);\n\n        firestore.collection('carts').where('addedItems.id', '==', itemToRemove.id)\n            .get().then((snapshot) => {\n            snapshot.forEach((doc) => {\n                    console.log(doc.id);\n                    firestore.collection('carts').doc(doc.id).delete().then(() => {\n                        console.log('delete document successfully')\n                        dispatch({type: REMOVE_ITEM, removedItems});\n                    });\n                }\n            )\n        }).catch(err => {\n            console.log('delete failed');\n            dispatch({type: \"REMOVE_ITEM_ERROR\", err});\n        })\n    }\n};\n\nexport const addQuantity = (addQuantityItem) => {\n    console.log(\"addQuantityItem:\", addQuantityItem);\n    return (dispatch, getState, {getFirebase, getFirestore}) => {\n        const firestore = getFirestore();\n        let itemToAddQuantity = getState().cart.addedItems.find(item => item.id === addQuantityItem.id);\n        console.log('itemToAddQuantity', itemToAddQuantity);\n        firestore.collection('carts').where(\"addedItems.id\", '==', addQuantityItem.id)\n            .get().then((snapshot) => {\n            snapshot.forEach((doc => {\n                addQuantityItem.quantity += 1;\n                console.log('add quantity successfully');\n                    firestore.collection('carts').doc(doc.id).update({\n                        addedItems: getState().cart.addedItems,\n                        customerFirstName: getState().firebase.profile.firstName,\n                        customerLastName: getState().firebase.profile.lastName,\n                        customerId: getState().firebase.auth.uid,\n                        shoppedAt: new Date()\n                    }).then(() => {\n                        console.log('updated');\n                        dispatch({type: ADD_QUANTITY, addQuantityItem});\n                    }).catch(err => {\n                        dispatch({type: \"ADD_QUANTITY_ERROR\", err});\n                    });\n                })\n            )\n        });\n    }\n};\n\n\n    export const subtractQuantity = (subtractQuantityItem) => {\n        return (dispatch, getState, {getFirebase, getFirestore}) => {\n            const firestore = getFirestore();\n            firestore.collection('carts').delete({\n\n                customerFirstName: 'Raj',\n                customerLastName: 'Koothrappali',\n                customerId: 12345,\n                shoppedAt: new Date()\n            }).then(() => {\n                dispatch({type: SUB_QUANTITY, subtractQuantityItem});\n            }).catch(err => {\n                dispatch({type: \"SUB_QUANTITY_ERROR\", err});\n            })\n        }\n    };\n"]},"metadata":{},"sourceType":"module"}